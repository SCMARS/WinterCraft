"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/donate";
exports.ids = ["pages/api/donate"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "rcon-client":
/*!******************************!*\
  !*** external "rcon-client" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("rcon-client");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdonate&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fdonate.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdonate&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fdonate.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_donate_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/donate.ts */ \"(api)/./pages/api/donate.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_donate_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_donate_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/donate\",\n        pathname: \"/api/donate\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_donate_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmRvbmF0ZSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZG9uYXRlLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tEO0FBQ2xEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ludGVyY3JhZnQtMjAyNS8/ZjY2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2RvbmF0ZS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2RvbmF0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2RvbmF0ZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdonate&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fdonate.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/rcon.ts":
/*!*********************!*\
  !*** ./lib/rcon.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   broadcastMessage: () => (/* binding */ broadcastMessage),\n/* harmony export */   givePlayerItem: () => (/* binding */ givePlayerItem),\n/* harmony export */   sendRconCommand: () => (/* binding */ sendRconCommand),\n/* harmony export */   setPlayerRank: () => (/* binding */ setPlayerRank)\n/* harmony export */ });\n/* harmony import */ var rcon_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rcon-client */ \"rcon-client\");\n/* harmony import */ var rcon_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(rcon_client__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Sends a command to the Minecraft server via RCON\n * @param cmd The command to send\n * @returns Promise that resolves when the command is sent\n */ async function sendRconCommand(cmd) {\n    try {\n        const rcon = await rcon_client__WEBPACK_IMPORTED_MODULE_0__.Rcon.connect({\n            host: process.env.RCON_HOST || \"localhost\",\n            port: parseInt(process.env.RCON_PORT || \"25575\"),\n            password: process.env.RCON_PASSWORD || \"\"\n        });\n        const response = await rcon.send(cmd);\n        await rcon.end();\n        return response;\n    } catch (error) {\n        console.error(\"RCON Error:\", error);\n        throw new Error(\"Failed to connect to Minecraft server\");\n    }\n}\n/**\n * Sets a player's rank using LuckPerms\n * @param username The player's username\n * @param rank The rank to set\n * @returns Promise that resolves with the command response\n */ async function setPlayerRank(username, rank) {\n    // Sanitize inputs to prevent command injection\n    const sanitizedUsername = username.replace(/[^\\w\\d_]/g, \"\");\n    const sanitizedRank = rank.replace(/[^\\w\\d_]/g, \"\");\n    if (sanitizedUsername !== username || sanitizedRank !== rank) {\n        throw new Error(\"Invalid username or rank\");\n    }\n    return sendRconCommand(`/lp user ${sanitizedUsername} parent set ${sanitizedRank}`);\n}\n/**\n * Gives an item to a player\n * @param username The player's username\n * @param item The item to give\n * @param amount The amount of the item\n * @returns Promise that resolves with the command response\n */ async function givePlayerItem(username, item, amount = 1) {\n    // Sanitize inputs to prevent command injection\n    const sanitizedUsername = username.replace(/[^\\w\\d_]/g, \"\");\n    const sanitizedItem = item.replace(/[^\\w\\d_:]/g, \"\");\n    if (sanitizedUsername !== username || sanitizedItem !== item) {\n        throw new Error(\"Invalid username or item\");\n    }\n    return sendRconCommand(`/give ${sanitizedUsername} ${sanitizedItem} ${amount}`);\n}\n/**\n * Broadcasts a message to all players on the server\n * @param message The message to broadcast\n * @returns Promise that resolves with the command response\n */ async function broadcastMessage(message) {\n    // Basic sanitization\n    const sanitizedMessage = message.replace(/[^\\w\\d\\s_.,!?-]/g, \"\");\n    return sendRconCommand(`/broadcast ${sanitizedMessage}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcmNvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBbUM7QUFFbkM7Ozs7Q0FJQyxHQUNNLGVBQWVDLGdCQUFnQkMsR0FBVztJQUMvQyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNSCw2Q0FBSUEsQ0FBQ0ksT0FBTyxDQUFDO1lBQzlCQyxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLFNBQVMsSUFBSTtZQUMvQkMsTUFBTUMsU0FBU0osUUFBUUMsR0FBRyxDQUFDSSxTQUFTLElBQUk7WUFDeENDLFVBQVVOLFFBQVFDLEdBQUcsQ0FBQ00sYUFBYSxJQUFJO1FBQ3pDO1FBRUEsTUFBTUMsV0FBVyxNQUFNWCxLQUFLWSxJQUFJLENBQUNiO1FBQ2pDLE1BQU1DLEtBQUthLEdBQUc7UUFFZCxPQUFPRjtJQUNULEVBQUUsT0FBT0csT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZUFBZUE7UUFDN0IsTUFBTSxJQUFJRSxNQUFNO0lBQ2xCO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLGVBQWVDLGNBQWNDLFFBQWdCLEVBQUVDLElBQVk7SUFDaEUsK0NBQStDO0lBQy9DLE1BQU1DLG9CQUFvQkYsU0FBU0csT0FBTyxDQUFDLGFBQWE7SUFDeEQsTUFBTUMsZ0JBQWdCSCxLQUFLRSxPQUFPLENBQUMsYUFBYTtJQUVoRCxJQUFJRCxzQkFBc0JGLFlBQVlJLGtCQUFrQkgsTUFBTTtRQUM1RCxNQUFNLElBQUlILE1BQU07SUFDbEI7SUFFQSxPQUFPbEIsZ0JBQWdCLENBQUMsU0FBUyxFQUFFc0Isa0JBQWtCLFlBQVksRUFBRUUsY0FBYyxDQUFDO0FBQ3BGO0FBRUE7Ozs7OztDQU1DLEdBQ00sZUFBZUMsZUFBZUwsUUFBZ0IsRUFBRU0sSUFBWSxFQUFFQyxTQUFpQixDQUFDO0lBQ3JGLCtDQUErQztJQUMvQyxNQUFNTCxvQkFBb0JGLFNBQVNHLE9BQU8sQ0FBQyxhQUFhO0lBQ3hELE1BQU1LLGdCQUFnQkYsS0FBS0gsT0FBTyxDQUFDLGNBQWM7SUFFakQsSUFBSUQsc0JBQXNCRixZQUFZUSxrQkFBa0JGLE1BQU07UUFDNUQsTUFBTSxJQUFJUixNQUFNO0lBQ2xCO0lBRUEsT0FBT2xCLGdCQUFnQixDQUFDLE1BQU0sRUFBRXNCLGtCQUFrQixDQUFDLEVBQUVNLGNBQWMsQ0FBQyxFQUFFRCxPQUFPLENBQUM7QUFDaEY7QUFFQTs7OztDQUlDLEdBQ00sZUFBZUUsaUJBQWlCQyxPQUFlO0lBQ3BELHFCQUFxQjtJQUNyQixNQUFNQyxtQkFBbUJELFFBQVFQLE9BQU8sQ0FBQyxvQkFBb0I7SUFFN0QsT0FBT3ZCLGdCQUFnQixDQUFDLFdBQVcsRUFBRStCLGlCQUFpQixDQUFDO0FBQ3pEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ludGVyY3JhZnQtMjAyNS8uL2xpYi9yY29uLnRzP2ZhNmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmNvbiB9IGZyb20gJ3Jjb24tY2xpZW50JztcblxuLyoqXG4gKiBTZW5kcyBhIGNvbW1hbmQgdG8gdGhlIE1pbmVjcmFmdCBzZXJ2ZXIgdmlhIFJDT05cbiAqIEBwYXJhbSBjbWQgVGhlIGNvbW1hbmQgdG8gc2VuZFxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNvbW1hbmQgaXMgc2VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFJjb25Db21tYW5kKGNtZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByY29uID0gYXdhaXQgUmNvbi5jb25uZWN0KHtcbiAgICAgIGhvc3Q6IHByb2Nlc3MuZW52LlJDT05fSE9TVCB8fCAnbG9jYWxob3N0JyxcbiAgICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LlJDT05fUE9SVCB8fCAnMjU1NzUnKSxcbiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5SQ09OX1BBU1NXT1JEIHx8ICcnLFxuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmNvbi5zZW5kKGNtZCk7XG4gICAgYXdhaXQgcmNvbi5lbmQoKTtcbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUkNPTiBFcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCB0byBNaW5lY3JhZnQgc2VydmVyJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIGEgcGxheWVyJ3MgcmFuayB1c2luZyBMdWNrUGVybXNcbiAqIEBwYXJhbSB1c2VybmFtZSBUaGUgcGxheWVyJ3MgdXNlcm5hbWVcbiAqIEBwYXJhbSByYW5rIFRoZSByYW5rIHRvIHNldFxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNvbW1hbmQgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldFBsYXllclJhbmsodXNlcm5hbWU6IHN0cmluZywgcmFuazogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgLy8gU2FuaXRpemUgaW5wdXRzIHRvIHByZXZlbnQgY29tbWFuZCBpbmplY3Rpb25cbiAgY29uc3Qgc2FuaXRpemVkVXNlcm5hbWUgPSB1c2VybmFtZS5yZXBsYWNlKC9bXlxcd1xcZF9dL2csICcnKTtcbiAgY29uc3Qgc2FuaXRpemVkUmFuayA9IHJhbmsucmVwbGFjZSgvW15cXHdcXGRfXS9nLCAnJyk7XG4gIFxuICBpZiAoc2FuaXRpemVkVXNlcm5hbWUgIT09IHVzZXJuYW1lIHx8IHNhbml0aXplZFJhbmsgIT09IHJhbmspIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdXNlcm5hbWUgb3IgcmFuaycpO1xuICB9XG4gIFxuICByZXR1cm4gc2VuZFJjb25Db21tYW5kKGAvbHAgdXNlciAke3Nhbml0aXplZFVzZXJuYW1lfSBwYXJlbnQgc2V0ICR7c2FuaXRpemVkUmFua31gKTtcbn1cblxuLyoqXG4gKiBHaXZlcyBhbiBpdGVtIHRvIGEgcGxheWVyXG4gKiBAcGFyYW0gdXNlcm5hbWUgVGhlIHBsYXllcidzIHVzZXJuYW1lXG4gKiBAcGFyYW0gaXRlbSBUaGUgaXRlbSB0byBnaXZlXG4gKiBAcGFyYW0gYW1vdW50IFRoZSBhbW91bnQgb2YgdGhlIGl0ZW1cbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb21tYW5kIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnaXZlUGxheWVySXRlbSh1c2VybmFtZTogc3RyaW5nLCBpdGVtOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyID0gMSk6IFByb21pc2U8c3RyaW5nPiB7XG4gIC8vIFNhbml0aXplIGlucHV0cyB0byBwcmV2ZW50IGNvbW1hbmQgaW5qZWN0aW9uXG4gIGNvbnN0IHNhbml0aXplZFVzZXJuYW1lID0gdXNlcm5hbWUucmVwbGFjZSgvW15cXHdcXGRfXS9nLCAnJyk7XG4gIGNvbnN0IHNhbml0aXplZEl0ZW0gPSBpdGVtLnJlcGxhY2UoL1teXFx3XFxkXzpdL2csICcnKTtcbiAgXG4gIGlmIChzYW5pdGl6ZWRVc2VybmFtZSAhPT0gdXNlcm5hbWUgfHwgc2FuaXRpemVkSXRlbSAhPT0gaXRlbSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1c2VybmFtZSBvciBpdGVtJyk7XG4gIH1cbiAgXG4gIHJldHVybiBzZW5kUmNvbkNvbW1hbmQoYC9naXZlICR7c2FuaXRpemVkVXNlcm5hbWV9ICR7c2FuaXRpemVkSXRlbX0gJHthbW91bnR9YCk7XG59XG5cbi8qKlxuICogQnJvYWRjYXN0cyBhIG1lc3NhZ2UgdG8gYWxsIHBsYXllcnMgb24gdGhlIHNlcnZlclxuICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gYnJvYWRjYXN0XG4gKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29tbWFuZCByZXNwb25zZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnJvYWRjYXN0TWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAvLyBCYXNpYyBzYW5pdGl6YXRpb25cbiAgY29uc3Qgc2FuaXRpemVkTWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZSgvW15cXHdcXGRcXHNfLiwhPy1dL2csICcnKTtcbiAgXG4gIHJldHVybiBzZW5kUmNvbkNvbW1hbmQoYC9icm9hZGNhc3QgJHtzYW5pdGl6ZWRNZXNzYWdlfWApO1xufVxuIl0sIm5hbWVzIjpbIlJjb24iLCJzZW5kUmNvbkNvbW1hbmQiLCJjbWQiLCJyY29uIiwiY29ubmVjdCIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiUkNPTl9IT1NUIiwicG9ydCIsInBhcnNlSW50IiwiUkNPTl9QT1JUIiwicGFzc3dvcmQiLCJSQ09OX1BBU1NXT1JEIiwicmVzcG9uc2UiLCJzZW5kIiwiZW5kIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJzZXRQbGF5ZXJSYW5rIiwidXNlcm5hbWUiLCJyYW5rIiwic2FuaXRpemVkVXNlcm5hbWUiLCJyZXBsYWNlIiwic2FuaXRpemVkUmFuayIsImdpdmVQbGF5ZXJJdGVtIiwiaXRlbSIsImFtb3VudCIsInNhbml0aXplZEl0ZW0iLCJicm9hZGNhc3RNZXNzYWdlIiwibWVzc2FnZSIsInNhbml0aXplZE1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/rcon.ts\n");

/***/ }),

/***/ "(api)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDonationPackages: () => (/* binding */ getDonationPackages),\n/* harmony export */   getEvents: () => (/* binding */ getEvents),\n/* harmony export */   getPlayerByUsername: () => (/* binding */ getPlayerByUsername),\n/* harmony export */   getPlayers: () => (/* binding */ getPlayers),\n/* harmony export */   getServerStats: () => (/* binding */ getServerStats),\n/* harmony export */   getTeamMembers: () => (/* binding */ getTeamMembers),\n/* harmony export */   isSupabaseConfigured: () => (/* binding */ isSupabaseConfigured),\n/* harmony export */   recordDonation: () => (/* binding */ recordDonation),\n/* harmony export */   submitFeedback: () => (/* binding */ submitFeedback)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// Initialize Supabase client (with safe guard)\nconst supabaseUrl = \"https://kntmandnikyvyuasgvwk.supabase.co\" || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtudG1hbmRuaWt5dnl1YXNndndrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5MDMxMjMsImV4cCI6MjA3NzQ3OTEyM30.X-sJogikWtAsDgS008y47UCa3PK7TkhCy3yilhuMUKg\" || 0;\nconst isSupabaseConfigured = Boolean(supabaseUrl && supabaseAnonKey && /^https?:\\/\\//.test(supabaseUrl) && !supabaseUrl.includes(\"your-project-id\") && !supabaseAnonKey.includes(\"your-supabase-anon-key\"));\nlet supabase = null;\nif (isSupabaseConfigured) {\n    supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n} else {\n    console.warn(\"[Supabase] Not configured. Using local defaults.\");\n}\n// Player-related functions\nasync function getPlayers() {\n    if (!supabase) return [];\n    const { data, error } = await supabase.from(\"players\").select(\"id,username,coins,quests_completed,last_login,rank\").order(\"coins\", {\n        ascending: false\n    });\n    if (error) {\n        console.error(\"Error fetching players:\", error);\n        return [];\n    }\n    return data || [];\n}\nasync function getPlayerByUsername(username) {\n    if (!supabase) return null;\n    const { data, error } = await supabase.from(\"players\").select(\"id,username,coins,quests_completed,last_login,rank\").eq(\"username\", username).single();\n    if (error) {\n        console.error(\"Error fetching player:\", error);\n        return null;\n    }\n    return data;\n}\n// Donation package functions\nasync function getDonationPackages() {\n    if (!supabase) return [];\n    const { data, error } = await supabase.from(\"donation_packages\").select(\"id,name,description,price,rank,benefits,image_url\").order(\"price\", {\n        ascending: true\n    });\n    if (error) {\n        console.error(\"Error fetching donation packages:\", error);\n        return [];\n    }\n    return data || [];\n}\n// Event functions\nasync function getEvents() {\n    if (!supabase) return [];\n    const { data, error } = await supabase.from(\"events\").select(\"id,name,description,rewards,date,image_url,rules\").order(\"date\", {\n        ascending: true\n    });\n    if (error) {\n        console.error(\"Error fetching events:\", error);\n        return [];\n    }\n    return data || [];\n}\n// Team member functions\nasync function getTeamMembers() {\n    if (!supabase) return [];\n    const { data, error } = await supabase.from(\"team_members\").select(\"id,name,role,description,image_url,social_links\");\n    if (error) {\n        console.error(\"Error fetching team members:\", error);\n        return [];\n    }\n    return data || [];\n}\n// Feedback functions\nasync function submitFeedback(feedback) {\n    if (!supabase) {\n        console.warn(\"[Supabase] submitFeedback in mock mode. Message not persisted.\");\n        return [\n            {\n                id: \"local\",\n                created_at: new Date().toISOString(),\n                ...feedback\n            }\n        ];\n    }\n    const { data, error } = await supabase.from(\"feedback\").insert([\n        feedback\n    ]).select();\n    if (error) {\n        console.error(\"Error submitting feedback:\", error);\n        throw error;\n    }\n    return data;\n}\n// Server stats functions\nasync function getServerStats() {\n    if (!supabase) {\n        return {\n            online_players: 0,\n            total_players: 0,\n            total_donations: 0,\n            active_events: 0\n        };\n    }\n    const { data, error } = await supabase.from(\"server_stats\").select(\"online_players,total_players,total_donations,active_events\").single();\n    if (error) {\n        console.error(\"Error fetching server stats:\", error);\n        return {\n            online_players: 0,\n            total_players: 0,\n            total_donations: 0,\n            active_events: 0\n        };\n    }\n    return data;\n}\n// Optional: record donation if a `donations` table exists\nasync function recordDonation(entry) {\n    if (!supabase) {\n        console.warn(\"[Supabase] recordDonation skipped (not configured).\");\n        return null;\n    }\n    try {\n        const { data, error } = await supabase.from(\"donations\").insert([\n            entry\n        ]).select();\n        if (error) {\n            console.warn(\"[Supabase] recordDonation failed (table may not exist):\", error);\n            return null;\n        }\n        return data?.[0] || null;\n    } catch (e) {\n        console.warn(\"[Supabase] recordDonation error:\", e);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TzJCLEdBQUc7UUFDVjlCLFFBQVFDLElBQUksQ0FBQyxvQ0FBb0M2QjtRQUNqRCxPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3dpbnRlcmNyYWZ0LTIwMjUvLi9saWIvc3VwYWJhc2UudHM/Yzk5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQsIFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLy8gVHlwZXMgZm9yIG91ciBkYXRhYmFzZSB0YWJsZXNcbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyIHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgY29pbnM6IG51bWJlcjtcbiAgcXVlc3RzX2NvbXBsZXRlZDogbnVtYmVyO1xuICBsYXN0X2xvZ2luOiBzdHJpbmc7XG4gIHJhbms6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEb25hdGlvblBhY2thZ2Uge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHByaWNlOiBudW1iZXI7XG4gIHJhbms6IHN0cmluZztcbiAgYmVuZWZpdHM6IHN0cmluZ1tdO1xuICBpbWFnZV91cmw6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcmV3YXJkczogc3RyaW5nO1xuICBkYXRlOiBzdHJpbmc7XG4gIGltYWdlX3VybDogc3RyaW5nO1xuICBydWxlczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGVhbU1lbWJlciB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcm9sZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBpbWFnZV91cmw6IHN0cmluZztcbiAgc29jaWFsX2xpbmtzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZlZWRiYWNrIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEb25hdGlvblJlY29yZCB7XG4gIGlkPzogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBwYWNrYWdlX2lkOiBzdHJpbmc7XG4gIHByaWNlOiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG59XG5cbi8vIEluaXRpYWxpemUgU3VwYWJhc2UgY2xpZW50ICh3aXRoIHNhZmUgZ3VhcmQpXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCAnJztcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8ICcnO1xuXG5leHBvcnQgY29uc3QgaXNTdXBhYmFzZUNvbmZpZ3VyZWQgPSBCb29sZWFuKFxuICBzdXBhYmFzZVVybCAmJlxuICBzdXBhYmFzZUFub25LZXkgJiZcbiAgL15odHRwcz86XFwvXFwvLy50ZXN0KHN1cGFiYXNlVXJsKSAmJlxuICAhc3VwYWJhc2VVcmwuaW5jbHVkZXMoJ3lvdXItcHJvamVjdC1pZCcpICYmXG4gICFzdXBhYmFzZUFub25LZXkuaW5jbHVkZXMoJ3lvdXItc3VwYWJhc2UtYW5vbi1rZXknKVxuKTtcblxubGV0IHN1cGFiYXNlOiBTdXBhYmFzZUNsaWVudCB8IG51bGwgPSBudWxsO1xuaWYgKGlzU3VwYWJhc2VDb25maWd1cmVkKSB7XG4gIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpO1xufSBlbHNlIHtcbiAgY29uc29sZS53YXJuKCdbU3VwYWJhc2VdIE5vdCBjb25maWd1cmVkLiBVc2luZyBsb2NhbCBkZWZhdWx0cy4nKTtcbn1cblxuLy8gUGxheWVyLXJlbGF0ZWQgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGxheWVycygpIHtcbiAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuIFtdO1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwbGF5ZXJzJylcbiAgICAuc2VsZWN0KCdpZCx1c2VybmFtZSxjb2lucyxxdWVzdHNfY29tcGxldGVkLGxhc3RfbG9naW4scmFuaycpXG4gICAgLm9yZGVyKCdjb2lucycsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwbGF5ZXJzOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gKGRhdGEgfHwgW10pIGFzIFBsYXllcltdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGxheWVyQnlVc2VybmFtZSh1c2VybmFtZTogc3RyaW5nKSB7XG4gIGlmICghc3VwYWJhc2UpIHJldHVybiBudWxsO1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwbGF5ZXJzJylcbiAgICAuc2VsZWN0KCdpZCx1c2VybmFtZSxjb2lucyxxdWVzdHNfY29tcGxldGVkLGxhc3RfbG9naW4scmFuaycpXG4gICAgLmVxKCd1c2VybmFtZScsIHVzZXJuYW1lKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwbGF5ZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEgYXMgUGxheWVyO1xufVxuXG4vLyBEb25hdGlvbiBwYWNrYWdlIGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvbmF0aW9uUGFja2FnZXMoKSB7XG4gIGlmICghc3VwYWJhc2UpIHJldHVybiBbXTtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnZG9uYXRpb25fcGFja2FnZXMnKVxuICAgIC5zZWxlY3QoJ2lkLG5hbWUsZGVzY3JpcHRpb24scHJpY2UscmFuayxiZW5lZml0cyxpbWFnZV91cmwnKVxuICAgIC5vcmRlcigncHJpY2UnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkb25hdGlvbiBwYWNrYWdlczonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIChkYXRhIHx8IFtdKSBhcyBEb25hdGlvblBhY2thZ2VbXTtcbn1cblxuLy8gRXZlbnQgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RXZlbnRzKCkge1xuICBpZiAoIXN1cGFiYXNlKSByZXR1cm4gW107XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2V2ZW50cycpXG4gICAgLnNlbGVjdCgnaWQsbmFtZSxkZXNjcmlwdGlvbixyZXdhcmRzLGRhdGUsaW1hZ2VfdXJsLHJ1bGVzJylcbiAgICAub3JkZXIoJ2RhdGUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBldmVudHM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiAoZGF0YSB8fCBbXSkgYXMgRXZlbnRbXTtcbn1cblxuLy8gVGVhbSBtZW1iZXIgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGVhbU1lbWJlcnMoKSB7XG4gIGlmICghc3VwYWJhc2UpIHJldHVybiBbXTtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgndGVhbV9tZW1iZXJzJylcbiAgICAuc2VsZWN0KCdpZCxuYW1lLHJvbGUsZGVzY3JpcHRpb24saW1hZ2VfdXJsLHNvY2lhbF9saW5rcycpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHRlYW0gbWVtYmVyczonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIChkYXRhIHx8IFtdKSBhcyBUZWFtTWVtYmVyW107XG59XG5cbi8vIEZlZWRiYWNrIGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdEZlZWRiYWNrKGZlZWRiYWNrOiBPbWl0PEZlZWRiYWNrLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnPikge1xuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgY29uc29sZS53YXJuKCdbU3VwYWJhc2VdIHN1Ym1pdEZlZWRiYWNrIGluIG1vY2sgbW9kZS4gTWVzc2FnZSBub3QgcGVyc2lzdGVkLicpO1xuICAgIHJldHVybiBbeyBpZDogJ2xvY2FsJywgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCAuLi5mZWVkYmFjayB9XTtcbiAgfVxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdmZWVkYmFjaycpXG4gICAgLmluc2VydChbZmVlZGJhY2tdKVxuICAgIC5zZWxlY3QoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdWJtaXR0aW5nIGZlZWRiYWNrOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vLyBTZXJ2ZXIgc3RhdHMgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU3RhdHMoKSB7XG4gIGlmICghc3VwYWJhc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25saW5lX3BsYXllcnM6IDAsXG4gICAgICB0b3RhbF9wbGF5ZXJzOiAwLFxuICAgICAgdG90YWxfZG9uYXRpb25zOiAwLFxuICAgICAgYWN0aXZlX2V2ZW50czogMCxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3NlcnZlcl9zdGF0cycpXG4gICAgLnNlbGVjdCgnb25saW5lX3BsYXllcnMsdG90YWxfcGxheWVycyx0b3RhbF9kb25hdGlvbnMsYWN0aXZlX2V2ZW50cycpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNlcnZlciBzdGF0czonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9ubGluZV9wbGF5ZXJzOiAwLFxuICAgICAgdG90YWxfcGxheWVyczogMCxcbiAgICAgIHRvdGFsX2RvbmF0aW9uczogMCxcbiAgICAgIGFjdGl2ZV9ldmVudHM6IDAsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBkYXRhIGFzIGFueTtcbn1cblxuLy8gT3B0aW9uYWw6IHJlY29yZCBkb25hdGlvbiBpZiBhIGBkb25hdGlvbnNgIHRhYmxlIGV4aXN0c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY29yZERvbmF0aW9uKGVudHJ5OiBEb25hdGlvblJlY29yZCkge1xuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgY29uc29sZS53YXJuKCdbU3VwYWJhc2VdIHJlY29yZERvbmF0aW9uIHNraXBwZWQgKG5vdCBjb25maWd1cmVkKS4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZG9uYXRpb25zJylcbiAgICAgIC5pbnNlcnQoW2VudHJ5XSlcbiAgICAgIC5zZWxlY3QoKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignW1N1cGFiYXNlXSByZWNvcmREb25hdGlvbiBmYWlsZWQgKHRhYmxlIG1heSBub3QgZXhpc3QpOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YT8uWzBdIHx8IG51bGw7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tTdXBhYmFzZV0gcmVjb3JkRG9uYXRpb24gZXJyb3I6JywgZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImlzU3VwYWJhc2VDb25maWd1cmVkIiwiQm9vbGVhbiIsInRlc3QiLCJpbmNsdWRlcyIsInN1cGFiYXNlIiwiY29uc29sZSIsIndhcm4iLCJnZXRQbGF5ZXJzIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZ2V0UGxheWVyQnlVc2VybmFtZSIsInVzZXJuYW1lIiwiZXEiLCJzaW5nbGUiLCJnZXREb25hdGlvblBhY2thZ2VzIiwiZ2V0RXZlbnRzIiwiZ2V0VGVhbU1lbWJlcnMiLCJzdWJtaXRGZWVkYmFjayIsImZlZWRiYWNrIiwiaWQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaW5zZXJ0IiwiZ2V0U2VydmVyU3RhdHMiLCJvbmxpbmVfcGxheWVycyIsInRvdGFsX3BsYXllcnMiLCJ0b3RhbF9kb25hdGlvbnMiLCJhY3RpdmVfZXZlbnRzIiwicmVjb3JkRG9uYXRpb24iLCJlbnRyeSIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/supabase.ts\n");

/***/ }),

/***/ "(api)/./lib/supabaseServer.ts":
/*!*******************************!*\
  !*** ./lib/supabaseServer.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isServiceConfigured: () => (/* binding */ isServiceConfigured),\n/* harmony export */   recordDonationServer: () => (/* binding */ recordDonationServer)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://kntmandnikyvyuasgvwk.supabase.co\" || 0;\nconst serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY || \"\";\nconst isServiceConfigured = Boolean(supabaseUrl && serviceRoleKey && /^https?:\\/\\//.test(supabaseUrl));\nlet serverClient = null;\nif (isServiceConfigured) {\n    serverClient = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, serviceRoleKey, {\n        auth: {\n            persistSession: false\n        }\n    });\n}\nasync function recordDonationServer(entry) {\n    if (!serverClient) {\n        console.warn(\"[Supabase] Service key not configured. Skipping secure donation record.\");\n        return null;\n    }\n    try {\n        const { data, error } = await serverClient.from(\"donations\").insert([\n            entry\n        ]).select();\n        if (error) {\n            console.warn(\"[Supabase] recordDonationServer failed:\", error);\n            return null;\n        }\n        return data?.[0] || null;\n    } catch (e) {\n        console.warn(\"[Supabase] recordDonationServer error:\", e);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VTZXJ2ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRTtBQUVyRSxNQUFNQyxjQUFjQywwQ0FBb0MsSUFBSTtBQUM1RCxNQUFNRyxpQkFBaUJILFFBQVFDLEdBQUcsQ0FBQ0cseUJBQXlCLElBQUk7QUFFekQsTUFBTUMsc0JBQXNCQyxRQUNqQ1AsZUFDQUksa0JBQ0EsZUFBZUksSUFBSSxDQUFDUixjQUNwQjtBQUVGLElBQUlTLGVBQXNDO0FBQzFDLElBQUlILHFCQUFxQjtJQUN2QkcsZUFBZVYsbUVBQVlBLENBQUNDLGFBQWFJLGdCQUFnQjtRQUN2RE0sTUFBTTtZQUFFQyxnQkFBZ0I7UUFBTTtJQUNoQztBQUNGO0FBRU8sZUFBZUMscUJBQXFCQyxLQUkxQztJQUNDLElBQUksQ0FBQ0osY0FBYztRQUNqQkssUUFBUUMsSUFBSSxDQUFDO1FBQ2IsT0FBTztJQUNUO0lBQ0EsSUFBSTtRQUNGLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNUixhQUMzQlMsSUFBSSxDQUFDLGFBQ0xDLE1BQU0sQ0FBQztZQUFDTjtTQUFNLEVBQ2RPLE1BQU07UUFDVCxJQUFJSCxPQUFPO1lBQ1RILFFBQVFDLElBQUksQ0FBQywyQ0FBMkNFO1lBQ3hELE9BQU87UUFDVDtRQUNBLE9BQU9ELE1BQU0sQ0FBQyxFQUFFLElBQUk7SUFDdEIsRUFBRSxPQUFPSyxHQUFHO1FBQ1ZQLFFBQVFDLElBQUksQ0FBQywwQ0FBMENNO1FBQ3ZELE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ludGVyY3JhZnQtMjAyNS8uL2xpYi9zdXBhYmFzZVNlcnZlci50cz9jNzhjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCwgU3VwYWJhc2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCAnJztcbmNvbnN0IHNlcnZpY2VSb2xlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSB8fCAnJztcblxuZXhwb3J0IGNvbnN0IGlzU2VydmljZUNvbmZpZ3VyZWQgPSBCb29sZWFuKFxuICBzdXBhYmFzZVVybCAmJlxuICBzZXJ2aWNlUm9sZUtleSAmJlxuICAvXmh0dHBzPzpcXC9cXC8vLnRlc3Qoc3VwYWJhc2VVcmwpXG4pO1xuXG5sZXQgc2VydmVyQ2xpZW50OiBTdXBhYmFzZUNsaWVudCB8IG51bGwgPSBudWxsO1xuaWYgKGlzU2VydmljZUNvbmZpZ3VyZWQpIHtcbiAgc2VydmVyQ2xpZW50ID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzZXJ2aWNlUm9sZUtleSwge1xuICAgIGF1dGg6IHsgcGVyc2lzdFNlc3Npb246IGZhbHNlIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVjb3JkRG9uYXRpb25TZXJ2ZXIoZW50cnk6IHtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgcGFja2FnZV9pZDogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xufSkge1xuICBpZiAoIXNlcnZlckNsaWVudCkge1xuICAgIGNvbnNvbGUud2FybignW1N1cGFiYXNlXSBTZXJ2aWNlIGtleSBub3QgY29uZmlndXJlZC4gU2tpcHBpbmcgc2VjdXJlIGRvbmF0aW9uIHJlY29yZC4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHNlcnZlckNsaWVudFxuICAgICAgLmZyb20oJ2RvbmF0aW9ucycpXG4gICAgICAuaW5zZXJ0KFtlbnRyeV0pXG4gICAgICAuc2VsZWN0KCk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tTdXBhYmFzZV0gcmVjb3JkRG9uYXRpb25TZXJ2ZXIgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YT8uWzBdIHx8IG51bGw7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tTdXBhYmFzZV0gcmVjb3JkRG9uYXRpb25TZXJ2ZXIgZXJyb3I6JywgZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInNlcnZpY2VSb2xlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImlzU2VydmljZUNvbmZpZ3VyZWQiLCJCb29sZWFuIiwidGVzdCIsInNlcnZlckNsaWVudCIsImF1dGgiLCJwZXJzaXN0U2Vzc2lvbiIsInJlY29yZERvbmF0aW9uU2VydmVyIiwiZW50cnkiLCJjb25zb2xlIiwid2FybiIsImRhdGEiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJzZWxlY3QiLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseServer.ts\n");

/***/ }),

/***/ "(api)/./pages/api/donate.ts":
/*!*****************************!*\
  !*** ./pages/api/donate.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_rcon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/rcon */ \"(api)/./lib/rcon.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/supabase */ \"(api)/./lib/supabase.ts\");\n/* harmony import */ var _lib_supabaseServer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/supabaseServer */ \"(api)/./lib/supabaseServer.ts\");\n\n\n\nasync function handler(req, res) {\n    // Only allow POST requests\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const { username, packageId } = req.body;\n        // Validate inputs\n        if (!username || !packageId) {\n            return res.status(400).json({\n                success: false,\n                message: \"Username and package ID are required\"\n            });\n        }\n        // Check if player exists\n        if (_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.isSupabaseConfigured) {\n            const player = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.getPlayerByUsername)(username);\n            if (!player) {\n                return res.status(404).json({\n                    success: false,\n                    message: \"Player not found. Make sure you have joined the server at least once.\"\n                });\n            }\n        }\n        // Get donation package details\n        const packages = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.getDonationPackages)();\n        const donationPackage = packages.find((pkg)=>pkg.id === packageId);\n        if (!donationPackage) {\n            return res.status(404).json({\n                success: false,\n                message: \"Donation package not found\"\n            });\n        }\n        // Set player rank using RCON\n        await (0,_lib_rcon__WEBPACK_IMPORTED_MODULE_0__.setPlayerRank)(username, donationPackage.rank);\n        // Record the donation if the table exists (non-blocking)\n        (0,_lib_supabaseServer__WEBPACK_IMPORTED_MODULE_2__.recordDonationServer)({\n            username,\n            package_id: donationPackage.id,\n            price: donationPackage.price\n        }).catch(()=>{});\n        // Return success response\n        return res.status(200).json({\n            success: true,\n            message: `Successfully upgraded ${username} to ${donationPackage.name} rank!`\n        });\n    } catch (error) {\n        console.error(\"Donation error:\", error);\n        return res.status(500).json({\n            success: false,\n            message: \"An error occurred while processing your donation. Please try again or contact support.\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZG9uYXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDK0M7QUFDcUQ7QUFDcEM7QUFPakQsZUFBZUssUUFDNUJDLEdBQW1CLEVBQ25CQyxHQUFzQztJQUV0QywyQkFBMkI7SUFDM0IsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQU9DLFNBQVM7UUFBcUI7SUFDOUU7SUFFQSxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRSxHQUFHUixJQUFJUyxJQUFJO1FBRXhDLGtCQUFrQjtRQUNsQixJQUFJLENBQUNGLFlBQVksQ0FBQ0MsV0FBVztZQUMzQixPQUFPUCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsU0FBUztnQkFDVEMsU0FBUztZQUNYO1FBQ0Y7UUFFQSx5QkFBeUI7UUFDekIsSUFBSVQsK0RBQW9CQSxFQUFFO1lBQ3hCLE1BQU1hLFNBQVMsTUFBTWYsa0VBQW1CQSxDQUFDWTtZQUN6QyxJQUFJLENBQUNHLFFBQVE7Z0JBQ1gsT0FBT1QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFDMUJDLFNBQVM7b0JBQ1RDLFNBQVM7Z0JBQ1g7WUFDRjtRQUNGO1FBRUEsK0JBQStCO1FBQy9CLE1BQU1LLFdBQVcsTUFBTWYsa0VBQW1CQTtRQUMxQyxNQUFNZ0Isa0JBQWtCRCxTQUFTRSxJQUFJLENBQUNDLENBQUFBLE1BQU9BLElBQUlDLEVBQUUsS0FBS1A7UUFFeEQsSUFBSSxDQUFDSSxpQkFBaUI7WUFDcEIsT0FBT1gsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLFNBQVM7Z0JBQ1RDLFNBQVM7WUFDWDtRQUNGO1FBRUEsNkJBQTZCO1FBQzdCLE1BQU1aLHdEQUFhQSxDQUFDYSxVQUFVSyxnQkFBZ0JJLElBQUk7UUFFbEQseURBQXlEO1FBQ3pEbEIseUVBQW9CQSxDQUFDO1lBQ25CUztZQUNBVSxZQUFZTCxnQkFBZ0JHLEVBQUU7WUFDOUJHLE9BQU9OLGdCQUFnQk0sS0FBSztRQUM5QixHQUFHQyxLQUFLLENBQUMsS0FBTztRQUVoQiwwQkFBMEI7UUFDMUIsT0FBT2xCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDMUJDLFNBQVM7WUFDVEMsU0FBUyxDQUFDLHNCQUFzQixFQUFFQyxTQUFTLElBQUksRUFBRUssZ0JBQWdCUSxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQy9FO0lBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQkFBbUJBO1FBQ2pDLE9BQU9wQixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RDLFNBQVM7UUFDWDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93aW50ZXJjcmFmdC0yMDI1Ly4vcGFnZXMvYXBpL2RvbmF0ZS50cz9jM2QxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgc2V0UGxheWVyUmFuayB9IGZyb20gJy4uLy4uL2xpYi9yY29uJztcbmltcG9ydCB7IGdldFBsYXllckJ5VXNlcm5hbWUsIGdldERvbmF0aW9uUGFja2FnZXMsIGlzU3VwYWJhc2VDb25maWd1cmVkIH0gZnJvbSAnLi4vLi4vbGliL3N1cGFiYXNlJztcbmltcG9ydCB7IHJlY29yZERvbmF0aW9uU2VydmVyIH0gZnJvbSAnLi4vLi4vbGliL3N1cGFiYXNlU2VydmVyJztcblxudHlwZSBEb25hdGlvblJlc3BvbnNlID0ge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBtZXNzYWdlOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZTxEb25hdGlvblJlc3BvbnNlPlxuKSB7XG4gIC8vIE9ubHkgYWxsb3cgUE9TVCByZXF1ZXN0c1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwYWNrYWdlSWQgfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRzXG4gICAgaWYgKCF1c2VybmFtZSB8fCAhcGFja2FnZUlkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiAnVXNlcm5hbWUgYW5kIHBhY2thZ2UgSUQgYXJlIHJlcXVpcmVkJyBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHBsYXllciBleGlzdHNcbiAgICBpZiAoaXNTdXBhYmFzZUNvbmZpZ3VyZWQpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IGF3YWl0IGdldFBsYXllckJ5VXNlcm5hbWUodXNlcm5hbWUpO1xuICAgICAgaWYgKCFwbGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGF5ZXIgbm90IGZvdW5kLiBNYWtlIHN1cmUgeW91IGhhdmUgam9pbmVkIHRoZSBzZXJ2ZXIgYXQgbGVhc3Qgb25jZS4nIFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgZG9uYXRpb24gcGFja2FnZSBkZXRhaWxzXG4gICAgY29uc3QgcGFja2FnZXMgPSBhd2FpdCBnZXREb25hdGlvblBhY2thZ2VzKCk7XG4gICAgY29uc3QgZG9uYXRpb25QYWNrYWdlID0gcGFja2FnZXMuZmluZChwa2cgPT4gcGtnLmlkID09PSBwYWNrYWdlSWQpO1xuICAgIFxuICAgIGlmICghZG9uYXRpb25QYWNrYWdlKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiAnRG9uYXRpb24gcGFja2FnZSBub3QgZm91bmQnIFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHBsYXllciByYW5rIHVzaW5nIFJDT05cbiAgICBhd2FpdCBzZXRQbGF5ZXJSYW5rKHVzZXJuYW1lLCBkb25hdGlvblBhY2thZ2UucmFuayk7XG5cbiAgICAvLyBSZWNvcmQgdGhlIGRvbmF0aW9uIGlmIHRoZSB0YWJsZSBleGlzdHMgKG5vbi1ibG9ja2luZylcbiAgICByZWNvcmREb25hdGlvblNlcnZlcih7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIHBhY2thZ2VfaWQ6IGRvbmF0aW9uUGFja2FnZS5pZCxcbiAgICAgIHByaWNlOiBkb25hdGlvblBhY2thZ2UucHJpY2UsXG4gICAgfSkuY2F0Y2goKCkgPT4ge30pO1xuXG4gICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2VcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgbWVzc2FnZTogYFN1Y2Nlc3NmdWxseSB1cGdyYWRlZCAke3VzZXJuYW1lfSB0byAke2RvbmF0aW9uUGFja2FnZS5uYW1lfSByYW5rIWAgXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRG9uYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgbWVzc2FnZTogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgeW91ciBkb25hdGlvbi4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQuJyBcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInNldFBsYXllclJhbmsiLCJnZXRQbGF5ZXJCeVVzZXJuYW1lIiwiZ2V0RG9uYXRpb25QYWNrYWdlcyIsImlzU3VwYWJhc2VDb25maWd1cmVkIiwicmVjb3JkRG9uYXRpb25TZXJ2ZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidXNlcm5hbWUiLCJwYWNrYWdlSWQiLCJib2R5IiwicGxheWVyIiwicGFja2FnZXMiLCJkb25hdGlvblBhY2thZ2UiLCJmaW5kIiwicGtnIiwiaWQiLCJyYW5rIiwicGFja2FnZV9pZCIsInByaWNlIiwiY2F0Y2giLCJuYW1lIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/donate.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdonate&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fdonate.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();